<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件循环</title>
</head>
<body>
<button id="btn">Hello Word</button>
<script>
    /**
     * 事件循环
     * JS同步执行会放到执行栈，异步的会放到任务队列
     * 队列分类，宏观任务和微观任务
     * 宏观任务：script(整体) setTimeout
     * 微观任务：Promise
     * 当执行栈的代码全部执行玩，栈被清空时，就会访问任务队列，看是否有可以执行的。如果有就放到执行栈，执行。
     * 宏观任何和微观任务执行顺序是：先执行最先进入队列的宏观任务，人后去执行微任何
     */
    // console.log('script start')
    //
    // setTimeout(function () {
    //     console.log('setTimeout')
    // })
    //
    // Promise.resolve().then(data => {
    //     console.log('promise 1')
    // })
    //
    // console.log('script end')
    // (function test() {
    //     new Promise(function executor(resolve) {
    //         console.log(1);
    //         for( var i=0 ; i<10000 ; i++ ) {
    //             i == 9999 && resolve();
    //         }
    //         console.log(2);
    //         setTimeout(function() {console.log(4)}, 0);
    //     }).then(function() {
    //         console.log(5);
    //     });
    //     new Promise(function executor(resolve) {
    //         resolve()
    //     }).then(function() {
    //         console.log(6);
    //     });
    //     setTimeout(function() {
    //         Promise.resolve().then(data => {
    //             console.log('我是第二个宏观任务队列中的，微任务')
    //         })
    //     }, 0);
    //     console.log(3);
    // })()
    setTimeout(() => {
        console.log('setTimeout')
    }, 0)
    setTimeout(() => {
        Promise.resolve().then(data => {
            console.log('promise')
        })
    }, 0)
    function fn1 () {
        Promise.resolve().then(data => {
            console.log('promise')
        })
    }
    // fn1()
</script>
</body>
</html>